@model IEnumerable<Gestor.Models.Estrutura>

@using X.PagedList.Mvc;
@using X.PagedList;

@{
    ViewBag.Title = "Estrutura";
    Layout = "~/Views/Shared/_Layout.cshtml";
    IPagedList<Gestor.Models.Estrutura> estruturas = ViewBag.OnePageHistory;

    string[] unity = new string[]
    {
"null",
"caixa",
"peça",
"kilograma",
"metro",
"rolo",
"milheiro",
"null",
"não informado",
"hora",
"unidade",
"litro"

    };
}

<h2>Estrutura</h2>

<p>
    @Html.ActionLink("Criar nova estrutura", "Create")
</p>
@using (Html.BeginForm("Search", "Estruturas", FormMethod.Post))
{
    <p>
        Código: @Html.TextBox("search")
        <input class="btn btn-sm" type="submit" value="Procurar" />
    </p>
}
<table class="table table-hover">
    <tr>
        <th></th>
        <th>
            @Html.DisplayNameFor(model => model.Produto.Apelido)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Produto.Descricao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Unidade.Apelido)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QtdCusto)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Sequencia.Tipo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Item)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DescCompProc)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnidadeCompraId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CustoUnitCompra)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Onera)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Lote)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Perda)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Observacao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PartCusto)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QtEftvUntrCmpnt)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CstCmprUndPrd)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.TpItmCst)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AlrtSbPrdt)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.CstIndividual)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QtdUndd)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.RefAuxiliarProduto)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TipoItemCusto)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Categoria)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FamiliaId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LinhaId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TempMaq)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.PsLiqdFnl)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PsLiqdPrcdt)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HrsModFnl)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HrsModPrec1)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HrsModPrec2)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IdProd)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IdCmpnt)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PdrHoraria)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.ProdComp)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.CstMtrlDrt)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CstMtrlPrcd1)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CstMtrlPrcd2)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CstMtrlPrcd3)
        </th>
        <th></th>
    </tr>
    @foreach (var item in estruturas)
    {
        <tr>
            <td>
                @Html.ActionLink("Alterar", "Edit", new { id = item.Id })
                @Html.ActionLink("Detalhes", "Details", new { id = item.Id })
                @Html.ActionLink("Eliminar", "Delete", new { id = item.Id })
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Produto.Apelido)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Produto.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => unity[item.UnidadeId])
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.QtdCusto)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Sequencia.Tipo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Item)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DescCompProc)
            </td>
            <td>
                @Html.DisplayFor(modelItem => unity[item.UnidadeCompraId])
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CustoUnitCompra)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Onera)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Lote)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Perda)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Observacao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PartCusto)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.QtEftvUntrCmpnt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CstCmprUndPrd)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.TpItmCst)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AlrtSbPrdt)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.CstIndividual)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.QtdUndd)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RefAuxiliarProduto)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TipoItemCusto)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Categoria.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Familia.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Linha.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TempMaq)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PsLiqdFnl)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PsLiqdPrcdt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HrsModFnl)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HrsModPrec1)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HrsModPrec2)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IdProd)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IdCmpnt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PdrHoraria)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.ProdComp)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.CstMtrlDrt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CstMtrlPrcd1)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CstMtrlPrcd2)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CstMtrlPrcd3)
            </td>
            <td>
                @Html.ActionLink("Alterar", "Edit", new { id = item.Id })
                @Html.ActionLink("Detalhes", "Details", new { id = item.Id })
                @Html.ActionLink("Eliminar", "Delete", new { id = item.Id })
            </td>
        </tr>
    }
</table>

@Html.PagedListPager((IPagedList)ViewBag.OnePageHistory, page => Url.Action("Search", new { page }))